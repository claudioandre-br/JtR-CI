freebsd11_task:
        freebsd_instance:
                image: freebsd-11-2-release-amd64
        install_script: pkg install -y devel/openmp devel/gmake
        script:
                - cd src
                - ./configure
                - gmake -sj4
                - ../run/john --list=build-info

        check_script:
                - cd run
                - ./john --test=0
freebsd12_task:
        freebsd_instance:
                image: freebsd-12-0-release-amd64
        install_script: pkg install -y devel/openmp devel/gmake wget

        script:
                - cd src
                - ./configure
                - gmake -sj4
                - ../run/john --list=build-info

        check_script:
                # Do some testing
                - export TEST=';full;extra;' # Controls how the test will happen
                - export arch=$(uname -m)
                - export JTR_BIN='./john'
                - cd run

                # Adjust the testing environment, import and run some testing
                - wget https://raw.githubusercontent.com/claudioandre-br/JtR-CI/master/tests/run_tests.sh
                - chmod a+x run_tests.sh
                - ./run_tests.sh
