######################################################################
# Copyright (c) 2019 Claudio Andr√© <claudioandre.br at gmail.com>
#
# This program comes with ABSOLUTELY NO WARRANTY; express or implied.
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, as expressed in version 2, seen at
# http://www.gnu.org/licenses/gpl-2.0.html
######################################################################
parameters:
  fullTest: ''
  johnBinary: 'john'
  johnDirectory: $(Build.SourcesDirectory)\run

steps:
    - script: |
        powershell -command 'Write-Host "--------------------------------------------------------"'
        powershell -command 'Write-Host "                 =====  Testing  =====                  " -ForegroundColor White'
        powershell -command 'Write-Host "--------------------------------------------------------"'

        REM # Setup worker environment
        cd ${{ parameters.johnDirectory }}

        echo "====> Build Info"
        ${{ parameters.johnBinary }} --list=build-info

      displayName: 'Testing'
